(this.webpackJsonptula=this.webpackJsonptula||[]).push([[0],{86:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),i=a.n(c),r=a(12),s=a.n(r),o=a(8),l=a(130),d=a(138),j=a(16),u=a(2),b=a(5),h=a(141),O=a(127),x=a(128),p=a(129),m=a(88),f=a(65),g=a.n(f),v=a(87),y=Object(b.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,c=e.onClose,i=Object(u.a)(e,["children","classes","onClose"]);return Object(n.jsxs)(O.a,Object(j.a)(Object(j.a)({disableTypography:!0,className:a.root},i),{},{children:[Object(n.jsx)(v.a,{variant:"h6",children:t}),c?Object(n.jsx)(m.a,{"aria-label":"close",className:a.closeButton,onClick:c,children:Object(n.jsx)(g.a,{})}):null]}))})),C=Object(b.a)((function(e){return{root:{padding:e.spacing(2),minWidth:320}}}))(x.a),I=Object(b.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(p.a);function D(e){var t=e.children,a=e.open,c=e.title,i=e.actions,r=e.handleClose;return Object(n.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object(n.jsxs)(h.a,{"aria-labelledby":"customized-dialog-title",open:a,onClose:null!==r&&void 0!==r?r:function(){return null},children:[c&&Object(n.jsx)(y,{id:"customized-dialog-title",onClose:r,children:c}),Object(n.jsx)(C,{children:t}),Object(n.jsx)(I,{children:i})]})})}function N(e){var t=e.loggedIn,a=void 0!==t&&t,c=e.handleSubmit,r=i.a.useState(""),s=Object(o.a)(r,2),j=s[0],u=s[1],b=Object(n.jsx)(l.a,{type:"submit",onClick:function(e){e.preventDefault(),c({type:"LOGIN",userId:j})},color:"primary",children:"Login"});return Object(n.jsx)(D,{title:"Login",actions:b,open:!a,children:Object(n.jsx)(d.a,{id:"userId",label:"User Id",value:j,fullWidth:!0,autoFocus:!0,onChange:function(e){u(e.target.value)}})})}var S=a(131),w=a(140),A=a(134),k=a(133),R=a(48),T=a.n(R),B=a(132),E=a(89),W=a(46),L=a.n(W),z=a(13),F=a(17),G=(a(50),a(49),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;return Math.random().toString(36).slice(-e)}),H=(a(24),function e(t,a,n){Object(F.a)(this,e),this.id=G(),this.name=t,this.description=a,this.opening_balance=n,this.balance=n}),V=Object(S.a)((function(e){return{root:{},grid:{textAlign:"right"}}}));function M(e){var t=e.handleAdd,a=V(),c=i.a.useState(""),r=Object(o.a)(c,2),s=r[0],j=r[1],u=i.a.useState(0),b=Object(o.a)(u,2),h=b[0],O=b[1],x=i.a.useState(""),p=Object(o.a)(x,2),m=p[0],f=p[1];return Object(n.jsx)("form",{className:a.root,noValidate:!0,autoComplete:"off",children:Object(n.jsxs)(B.a,{container:!0,spacing:1,children:[Object(n.jsx)(B.a,{item:!0,sm:6,children:Object(n.jsx)(d.a,{id:"name",label:"Name",value:s,onChange:function(e){j(e.target.value)},fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:6,children:Object(n.jsx)(d.a,{id:"balance",label:"Opening Balance",value:h,onChange:function(e){O(e.target.value)},type:"number",fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:12,children:Object(n.jsx)(d.a,{id:"description",label:"Description",value:m,onChange:function(e){f(e.target.value)},type:"text",multiline:!0,rows:2,fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:12}),Object(n.jsx)(B.a,{item:!0,sm:12,className:a.grid,children:Object(n.jsx)(l.a,{onClick:function(e){e.preventDefault(),t(new H(s,h))},color:"primary",startIcon:Object(n.jsx)(L.a,{}),children:"Entity"})})]})})}var J=function e(t,a,n,c){Object(F.a)(this,e),this.id=G(),this.time=Date.now(),this.entityId=t,this.credit=a,this.debit=n,this.remarks=c},P=Object(S.a)((function(e){return{root:{},grid:{textAlign:"right"}}}));function U(e){var t=e.handleAdd,a=P(),c=i.a.useState(0),r=Object(o.a)(c,2),s=r[0],j=r[1],u=i.a.useState(0),b=Object(o.a)(u,2),h=b[0],O=b[1],x=i.a.useState(""),p=Object(o.a)(x,2),m=p[0],f=p[1];return Object(n.jsx)("form",{className:a.root,noValidate:!0,autoComplete:"off",children:Object(n.jsxs)(B.a,{container:!0,spacing:1,children:[Object(n.jsx)(B.a,{item:!0,sm:6,children:Object(n.jsx)(d.a,{id:"credit",label:"Credit",value:s,onChange:function(e){return j(Number(e.target.value))},type:"number",fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:6,children:Object(n.jsx)(d.a,{id:"debit",label:"Debit",value:h,onChange:function(e){return O(Number(e.target.value))},type:"number",fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:12,children:Object(n.jsx)(d.a,{id:"remarks",label:"Remarks",value:m,onChange:function(e){return f(e.target.value)},type:"text",multiline:!0,rows:2,fullWidth:!0})}),Object(n.jsx)(B.a,{item:!0,sm:12}),Object(n.jsx)(B.a,{item:!0,sm:12,className:a.grid,children:Object(n.jsx)(l.a,{onClick:function(e){e.preventDefault(),t((function(e){return new J(e,s,h,m)}))},color:"primary",startIcon:Object(n.jsx)(L.a,{}),children:"Transaction"})})]})})}var _=Object(S.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}}));function q(e){var t=e.id,a=(e.time,e.credit),c=e.debit,r=e.remarks,s=_(),l=i.a.useState(!1),d=Object(o.a)(l,2),j=d[0],u=d[1];return Object(n.jsxs)(w.a,{expanded:j,onChange:function(e,t){u(t)},children:[Object(n.jsxs)(k.a,{expandIcon:Object(n.jsx)(T.a,{}),"aria-controls":"content",id:t,children:[Object(n.jsx)(v.a,{className:s.heading,children:a}),Object(n.jsx)(v.a,{className:s.heading,children:c}),Object(n.jsx)(v.a,{className:s.secondaryHeading,children:r})]}),Object(n.jsx)(A.a,{})]})}function K(e){var t=e.entityId,a=e.data,c=e.dispatch;_();return Object(n.jsxs)(B.a,{container:!0,children:[Object(n.jsx)(B.a,{item:!0,sm:12,children:a.map((function(e){return Object(n.jsx)(q,Object(j.a)({},e),e.id)}))}),Object(n.jsx)(B.a,{item:!0,sm:12,children:Object(n.jsx)(U,{handleAdd:function(e){var a=e(t);c({type:"ADD",transaction:a})}})})]})}var Q=Object(S.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},paper:{padding:e.spacing(1)}}}));function X(e){var t=e.id,a=e.name,c=e.description,r=(e.balance,e.opening_balance,e.transactions),s=e.transactionDispatcher,l=Q(),d=i.a.useState(!1),j=Object(o.a)(d,2),u=j[0],b=j[1];return Object(n.jsxs)(w.a,{expanded:u,onChange:function(e,t){b(t)},children:[Object(n.jsxs)(k.a,{expandIcon:Object(n.jsx)(T.a,{}),"aria-controls":"content",id:t,children:[Object(n.jsx)(v.a,{className:l.heading,children:a}),Object(n.jsx)(v.a,{className:l.secondaryHeading,children:c})]}),Object(n.jsx)(A.a,{children:Object(n.jsx)(K,{entityId:t,data:r,dispatch:s})})]})}function Y(e){var t=e.data,a=e.entityDispatcher,c=e.transactionDispatcher,i=Q();return Object(n.jsxs)(B.a,{container:!0,children:[Object(n.jsx)(B.a,{item:!0,sm:12,children:Object(n.jsx)(E.a,{className:i.paper,children:Object(n.jsx)(M,{handleAdd:function(e){a({type:"ADD",entity:e})}})})}),Object(n.jsx)(B.a,{item:!0,sm:12,children:t.map((function(e){return Object(n.jsx)(X,Object(j.a)(Object(j.a)({},e),{},{transactionDispatcher:c}),e.id)}))})]})}var Z=a(135),$=a(136),ee=a(66),te=a.n(ee),ae=a(137),ne=Object(S.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ce(e){var t=e.userId,a=e.children,c=ne();return Object(n.jsxs)("div",{className:c.root,children:[Object(n.jsx)(Z.a,{position:"static",children:Object(n.jsxs)($.a,{children:[Object(n.jsx)(v.a,{variant:"h6",className:c.title,children:"Tula"}),Object(n.jsx)("div",{children:t?Object(n.jsx)(v.a,{variant:"h6",className:c.title,children:t}):Object(n.jsx)(m.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",children:Object(n.jsx)(te.a,{})})})]})}),Object(n.jsx)(ae.a,{children:t&&a})]})}function ie(e,t){var a=t.type,n=t.userId;switch(a){case"LOGIN":return{userId:n};case"LOGOUT":return{};default:throw new Error}}function re(e,t){switch(t.type){case"ADD":return[].concat(Object(z.a)(e),[t.entity]);case"REMOVE":return Object(z.a)(e);default:throw new Error}}function se(e,t){var a=t.type,n=t.transaction;switch(a){case"ADD":return[].concat(Object(z.a)(e),[n]);default:throw new Error}}var oe=function(){var e=i.a.useReducer(ie,{}),t=Object(o.a)(e,2),a=t[0].userId,r=t[1],s=i.a.useReducer(re,[]),l=Object(o.a)(s,2),d=l[0],u=l[1],b=i.a.useReducer(se,[]),h=Object(o.a)(b,2),O=h[0],x=h[1],p=i.a.useState({}),m=Object(o.a)(p,2),f=m[0],g=m[1];return Object(c.useEffect)((function(){g(function(e,t){return Array.isArray(e)&&Array.isArray(t)?e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{transactions:t.filter((function(t){return t.entityId=e.id}))})})):[]}(d,O))}),[a,d,O]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(N,{loggedIn:!!a,handleSubmit:r}),Object(n.jsx)(ce,{userId:a,children:Object(n.jsx)(Y,{data:f,entityDispatcher:u,transactionDispatcher:x})})]})},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(oe,{})}),document.getElementById("root")),le()}},[[86,1,2]]]);
//# sourceMappingURL=main.360a6d35.chunk.js.map